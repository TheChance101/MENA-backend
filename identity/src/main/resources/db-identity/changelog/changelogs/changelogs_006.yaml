databaseChangeLog:
  - changeSet:
      id: 6-identity
      author: eslam-99
      comment: Create otp_logs table for identity
      changes:
        - sql:
              create table identity.otp_logs
              (
              id           UUID PRIMARY KEY NOT NULL,
              phone_number VARCHAR(255) NOT NULL,
              otp          VARCHAR(6) NOT NULL,
              is_verified  BOOLEAN NOT NULL DEFAULT FALSE,
              session_id   UUID NOT NULL,
              expire_at    TIMESTAMP WITH TIME ZONE NOT NULL,
              created_at   TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
              );

        - sql:
              CREATE INDEX idx_otp_logs_phone_number
              ON identity.otp_logs (phone_number);
